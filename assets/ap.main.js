const t=async(e,n)=>{await n(e);let a=e.firstElementChild;for(;a;)t(a,n),a=a.nextElementSibling};const e=new Set,n=async n=>t(n,(async t=>{const n=t.tagName.toLowerCase();if(n.includes("-")){if(t.hasAttribute("data-load-media")){const e=t.getAttribute("data-load-media"),n={"lg-":"(max-width: 64rem)","lg+":"(min-width: 64rem)"},a=window.matchMedia(n[e]||e);await new Promise((function(t){a.matches?t(!0):a.addEventListener("change",t,{once:!0})}))}if(t.hasAttribute("data-load-visible")){const e=t.getAttribute("data-load-visible")||"0px";await new Promise((function(n){const a=new window.IntersectionObserver((async function(t){for(const e of t)if(e.isIntersecting){a.disconnect(),n(!0);break}}),{rootMargin:e});a.observe(t)}))}if(t.hasAttribute("data-load-immediate")||await new Promise((function(t){"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,200)})),!e.has(n)){e.add(n);try{await function(t){switch(t){case"./elements/cart-drawer.ts":return import("./ap.cart-drawer.js");case"./elements/product-form.ts":return import("./ap.product-form.js");default:return new Promise((function(e,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))}))}}(`./elements/${n}.ts`)}catch(t){}}}})),a=async()=>n(document.body);"loading"===document.readyState?document.addEventListener("DOMContentLoaded",a):a();
//# sourceMappingURL=ap.main.js.map
