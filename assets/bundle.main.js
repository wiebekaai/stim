const t=async(e,n)=>{await n(e);let i=e.firstElementChild;for(;i;)t(i,n),i=i.nextElementSibling};const e=new Set,n=async n=>t(n,(async t=>{window.Stimulus||await import("./bundle.stimulus.js");const n=t.dataset.controller;if(n){if(t.hasAttribute("data-load-media")){const e=t.getAttribute("data-load-media"),n={"lg-":"(max-width: 64rem)","lg+":"(min-width: 64rem)"},i=window.matchMedia(n[e]||e);await new Promise((function(t){i.matches?t(!0):i.addEventListener("change",t,{once:!0})}))}if(t.hasAttribute("data-load-visible")){const e=t.getAttribute("data-load-visible")||"0px";await new Promise((function(n){const i=new window.IntersectionObserver((async function(t){for(const e of t)if(e.isIntersecting){i.disconnect(),n(!0);break}}),{rootMargin:e});i.observe(t)}))}if(t.hasAttribute("data-load-immediate")||await new Promise((function(t){"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,200)})),!e.has(n)){e.add(n);try{const{default:t}=await function(t){switch(t){case"./controllers/cart-drawer.ts":return import("./bundle.cart-drawer.js");case"./controllers/product-form.ts":return import("./bundle.product-form.js");default:return new Promise((function(e,n){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(n.bind(null,new Error("Unknown variable dynamic import: "+t)))}))}}(`./controllers/${n}.ts`);window.Stimulus.register(n,t)}catch(t){}}}}));window.addEventListener("DOMContentLoaded",(async()=>n(document.body)));
