function t(t,e,o,n){var s,r=arguments.length,a=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(a=(r<3?s(a):r>3?s(e,o,a):s(e,o))||a);return r>3&&a&&Object.defineProperty(e,o,a),a}function e(t,e){const o=t.closest(e);if(!o){const o=t.getRootNode();return o instanceof ShadowRoot?o.host.closest(e):null}return o}"function"==typeof SuppressedError&&SuppressedError;const o=(t,e,o)=>(t.getAttribute(e)||"").trim().split(/\s+/g).map((t=>o(t))),n=new Map,s=new MutationObserver((t=>{for(const s of t)if("attributes"===s.type){const t=s.attributeName,r=s.target;if(r instanceof Element&&n.has(t)){const[s,a]=n.get(t);for(const[n,...c]of o(r,t,s)){const o=e(r,n);o&&a(r,o,t,...c)}}}else if(s.addedNodes.length)for(const t of s.addedNodes)t instanceof Element&&a(t)})),r=(t,e,o)=>{if(n.has(t))throw new Error("duplicate tag");n.set(t,[e,o])},a=t=>{for(const[s,[r,a]]of n){for(const n of t.querySelectorAll(`[${s}]`))for(const[t,...c]of o(n,s,r)){const o=e(n,t);o&&a(n,o,s,...c)}if(t instanceof Element&&t.hasAttribute(s))for(const[n,...c]of o(t,s,r)){const o=e(t,n);o&&a(t,o,s,...c)}}s.observe(t instanceof Element?t.ownerDocument:t,{childList:!0,subtree:!0,attributeFilter:Array.from(n.keys())})},c=(t,e)=>{for(;t;){const o=Object.getOwnPropertyDescriptor(t,e);if(o)return o;t=Object.getPrototypeOf(t)}},i=t=>{if(t){if("function"==typeof t.value)return"method";if("function"==typeof t.get)return"getter";if("function"==typeof t.set)return"setter"}return"field"};function f(t,e){const o=new WeakMap,n=t=>{if(!o.has(t)){const e=Object.getPrototypeOf(t);o.set(t,new Set(e&&n(e)||[]))}return o.get(t)},s=(e,o,s)=>{n(e).has(o)||(t({name:o,kind:i(s)}),n(e).add(o))};s.static=Symbol();const r=t=>{const e=Object.getPrototypeOf(t);for(const t of e.constructor[s.static]||[])s(e,t,Object.getOwnPropertyDescriptor(e,t));return new Set(n(e))};return[s,r,t=>{for(const o of r(t)){const n=c(t,o)||{value:void 0,configurable:!0,writable:!0,enumerable:!0},s=e(t,{name:o,kind:i(n),access:n})||n;Object.defineProperty(t,o,Object.assign({configurable:!0,enumerable:!0},s))}}]}const l=new WeakMap,u=t=>e=>{const o=l.get(e);if(o?.has(t))return e;const n=t(e);Object.defineProperty(n,"name",{value:e.name});const s=new Set(o);return s.add(t),l.set(n,s),n},g=Symbol(),h=Symbol(),d=new WeakMap,p=new WeakMap,m=new WeakSet,b=u((t=>class extends t{constructor(...t){super(...t);const e=this.shadowRoot;if(e&&e!==d.get(this)&&this[g](e),!m.has(this))try{this.attachInternals()}catch{}}connectedCallback(){this.setAttribute("data-catalyst",""),super.connectedCallback?.()}attachShadow(...t){const e=super.attachShadow(...t);return this[g](e),e}[g](t){d.set(this,t)}attachInternals(){if(p.has(this)&&!m.has(this))return m.add(this),p.get(this);const t=super.attachInternals();return this[h](t),p.set(this,t),t}[h](t){const e=t.shadowRoot;e&&e!==d.get(this)&&this[g](e)}})),w=t=>String("symbol"==typeof t?t.description:t).replace(/([A-Z]($|[a-z]))/g,"-$1").replace(/--/g,"-").replace(/^-|-$/,"").toLowerCase(),y=Symbol(),S=Symbol(),[O,k,$]=f((({name:t,kind:e})=>{if("getter"===e)throw new Error(`@target cannot decorate get ${String(t)}`)}),((t,{name:e,access:o})=>{const n=[`[data-target~="${t.tagName.toLowerCase()}.${w(e)}"]`,`[data-target~="${t.tagName.toLowerCase()}.${String(e)}"]`],s=x(t,n.join(", "),!1);return{get:s,set:()=>{o?.set&&o.set.call(t,s())}}})),[v,E,M]=f((({name:t,kind:e})=>{if("getter"===e)throw new Error(`@target cannot decorate get ${String(t)}`)}),((t,{name:e,access:o})=>{const n=[`[data-targets~="${t.tagName.toLowerCase()}.${w(e)}"]`,`[data-targets~="${t.tagName.toLowerCase()}.${String(e)}"]`],s=x(t,n.join(", "),!0);return{get:s,set:()=>{o?.set&&o.set.call(t,s())}}}));function j(t,e,o,n){const s="data-targets"===o?E:k;e instanceof ShadowRoot&&(e=N.get(e)),e&&s(e)?.has(n)&&(e[n]={})}r("data-target",(t=>t.split(".")),j),r("data-targets",(t=>t.split(".")),j);const A=new WeakMap,N=new WeakMap,x=(t,e,o)=>()=>{const n=[],s=A.get(t);if(s)for(const r of s.querySelectorAll(e))if(!r.closest(t.tagName)&&(n.push(r),!o))break;if(o||!n.length)for(const s of t.querySelectorAll(e))if(s.closest(t.tagName)===t&&(n.push(s),!o))break;return o?n:n[0]},P=u((t=>class extends(b(t)){constructor(){super(),a(this),$(this),M(this)}[y](){}[S](){}[g](t){super[g]?.(t),A.set(this,t),N.set(t,this),a(t)}})),R=Symbol(),W=t=>t;let C=!1;const L=new WeakMap,D=new MutationObserver((t=>{for(const e of t)if("attributes"===e.type){const t=e.attributeName,o=e.target,n=L.get(o)?.get(t);n&&(C=!0,o[n]=o.getAttribute(t),C=!1)}})),[I,q,z]=f((({name:t})=>((t,e="property")=>{const o=w(t);if(!o.includes("-"))throw new DOMException(`${e}: ${String(t)} is not a valid ${e} name`,"SyntaxError");return o})(t,"@attr")),((t,{name:e,kind:o,access:n})=>{let s,r=W;n.get?s=n.get.call(t):"value"in n&&"method"!==o&&(s=n.value);let a=s;const c=w(e),i=("method"===o?n.value:n.set)||W,f=n.get||(()=>a);L.get(t)||L.set(t,new Map),L.get(t).set(c,e),"number"==typeof a?r=Number:"boolean"==typeof a?r=Boolean:"string"==typeof a&&(r=String);const l=new Map;return{get(){const e=t.hasAttribute(c);return e?r===Boolean?e:r(t.getAttribute(c)):r(f.call(t))},set(o){const n=null===o;n&&(o=s);const r=Object.is(a,o);a=o,i.call(t,a),C||r||n||(async o=>{if(l.set(e,o),l.size>1)return;await Promise.resolve();const n=new Map(l);l.clear(),t[R](n)})(o)}}})),B=u((t=>class extends(b(t)){constructor(){super(),z(this),D.observe(this,{attributeFilter:Array.from(q(this)).map(w)})}[R](t){if(this.isConnected)for(const[e,o]of t)"boolean"==typeof o?this.toggleAttribute(w(e),o):this.setAttribute(w(e),String(o))}})),F=t=>{const e=t.lastIndexOf(":"),o=Math.max(0,t.lastIndexOf("#"))||t.length;return[t.slice(e+1,o),t.slice(0,e),t.slice(o+1)||"handleEvent"]};r("data-action",F,((t,e,o,n)=>{t.addEventListener(n,Z)}));const T=new WeakSet;function Z(t){const e=t.currentTarget;for(const[n,s,r]of o(e,"data-action",F))if(t.type===s){const o=e.closest(n);T.has(o)&&"function"==typeof o[r]&&o[r](t);const s=e.getRootNode();if(s instanceof ShadowRoot){const e=s.host;e.matches(n)&&T.has(e)&&"function"==typeof e[r]&&e[r](t)}}}const _=u((t=>class extends(b(t)){constructor(){super(),T.add(this),a(this)}[g](t){super[g]?.(t),a(t)}}));function G(t){return function(t){const e=w(t.name).replace(/-(element|controller|component)$/,"");try{window.customElements.define(e,t),window[t.name]=customElements.get(e)}catch(t){if(!(t instanceof DOMException&&"NotSupportedError"===t.name))throw t}return t}(_(B(P(t))))}export{t as _,I as a,G as c,O as t};
//# sourceMappingURL=ap.controller.js.map
